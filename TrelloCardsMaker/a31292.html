<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TrelloCardsMaker: Класс model::QueueCards</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Title.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TrelloCardsMaker
   &#160;<span id="projectnumber">Версия: 0.1.1 Revision: 283 Platform: ARM Build: 22:53 10 Февраль 2017</span>
   </div>
   <div id="projectbrief">Android offline client cards maker for Trello</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Поиск');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a31292.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Открытые члены</a> &#124;
<a href="#pub-static-methods">Открытые статические члены</a> &#124;
<a href="#pri-methods">Закрытые члены</a> &#124;
<a href="#pri-static-methods">Закрытые статические члены</a> &#124;
<a href="a31289.html">Полный список членов класса</a>  </div>
  <div class="headertitle">
<div class="title">Класс model::QueueCards<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="a31130.html">Model</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Класс входит в проект <a class="el" href="a31461.html">Model</a> <br />
 Класс очереди карточек на отправку.  
 <a href="a31292.html#details">Подробнее...</a></p>

<p><code>#include &lt;<a class="el" href="a30947_source.html">QueueCards.hpp</a>&gt;</code></p>

<p>Производные классы:QueueCards_test::Tested.</p>
<div class="dynheader">
Граф связей класса model::QueueCards:</div>
<div class="dyncontent">
<div class="center"><img src="a31290.png" border="0" usemap="#model_1_1_queue_cards_coll__map" alt="Collaboration graph"/></div>
<map name="model_1_1_queue_cards_coll__map" id="model_1_1_queue_cards_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Открытые члены</h2></td></tr>
<tr class="memitem:a337d19aee0e859a0c16233192d03fb1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a31292.html#a337d19aee0e859a0c16233192d03fb1f">Start</a> (void)</td></tr>
<tr class="memdesc:a337d19aee0e859a0c16233192d03fb1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция запуска потока отправки карточек на почту Trello.  <a href="#a337d19aee0e859a0c16233192d03fb1f">Подробнее...</a><br /></td></tr>
<tr class="separator:a337d19aee0e859a0c16233192d03fb1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59159e2547ed0f476db565fe7f8022c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a31292.html#a59159e2547ed0f476db565fe7f8022c7">AddCard</a> (const <a class="el" href="a31272.html">BoardInfo</a> &amp;, const String_t &amp;)</td></tr>
<tr class="memdesc:a59159e2547ed0f476db565fe7f8022c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция для добавления карточки в очередь на отправку.  <a href="#a59159e2547ed0f476db565fe7f8022c7">Подробнее...</a><br /></td></tr>
<tr class="separator:a59159e2547ed0f476db565fe7f8022c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Открытые статические члены</h2></td></tr>
<tr class="memitem:ae7ede195c70c1c06467361640a37fa97"><td class="memItemLeft" align="right" valign="top"><a id="ae7ede195c70c1c06467361640a37fa97"></a>
static <a class="el" href="a31292.html">QueueCards</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a31292.html#ae7ede195c70c1c06467361640a37fa97">GetInstance</a> (void)</td></tr>
<tr class="memdesc:ae7ede195c70c1c06467361640a37fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция получения доступа к единственному объекту класса. <br /></td></tr>
<tr class="separator:ae7ede195c70c1c06467361640a37fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Закрытые члены</h2></td></tr>
<tr class="memitem:a1752c60cf1fef5bb44299919fdbe7a8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a31292.html#a1752c60cf1fef5bb44299919fdbe7a8e">SendingCards</a> (void)</td></tr>
<tr class="memdesc:a1752c60cf1fef5bb44299919fdbe7a8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция рабочего потока отправки карточек на почту Trello.  <a href="#a1752c60cf1fef5bb44299919fdbe7a8e">Подробнее...</a><br /></td></tr>
<tr class="separator:a1752c60cf1fef5bb44299919fdbe7a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdef23f2821417c0341a067cdf9a7399"><td class="memItemLeft" align="right" valign="top"><a id="abdef23f2821417c0341a067cdf9a7399"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a31292.html#abdef23f2821417c0341a067cdf9a7399">LoadCards</a> (void)</td></tr>
<tr class="memdesc:abdef23f2821417c0341a067cdf9a7399"><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция загрузки списка карточек из файла. <br /></td></tr>
<tr class="separator:abdef23f2821417c0341a067cdf9a7399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a48af6400cda74dcde5b85235c38c0b"><td class="memItemLeft" align="right" valign="top">VIRTUAL_MOCK void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a31292.html#a8a48af6400cda74dcde5b85235c38c0b">SaveCards</a> (void) const</td></tr>
<tr class="memdesc:a8a48af6400cda74dcde5b85235c38c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция сохранения списка карточек в файл.  <a href="#a8a48af6400cda74dcde5b85235c38c0b">Подробнее...</a><br /></td></tr>
<tr class="separator:a8a48af6400cda74dcde5b85235c38c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b64c74e1eacf8221b90a6199b0361c"><td class="memItemLeft" align="right" valign="top">VIRTUAL_MOCK bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a31292.html#a35b64c74e1eacf8221b90a6199b0361c">SendEMail</a> (const ::std::string &amp;, const ::std::string &amp;, ::std::string &amp;) const</td></tr>
<tr class="memdesc:a35b64c74e1eacf8221b90a6199b0361c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция для отправки почтового сообщения на доску Trello.  <a href="#a35b64c74e1eacf8221b90a6199b0361c">Подробнее...</a><br /></td></tr>
<tr class="separator:a35b64c74e1eacf8221b90a6199b0361c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Закрытые статические члены</h2></td></tr>
<tr class="memitem:a39584ade79db3b9d37dd8bd18a957858"><td class="memItemLeft" align="right" valign="top"><a id="a39584ade79db3b9d37dd8bd18a957858"></a>
static Path_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a31292.html#a39584ade79db3b9d37dd8bd18a957858">GetPathToSourceFile</a> (const Path_t &amp;=L&quot;&quot;)</td></tr>
<tr class="memdesc:a39584ade79db3b9d37dd8bd18a957858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция получения пути к файлу, в котором будут храниться не отправленные карточки. <br /></td></tr>
<tr class="separator:a39584ade79db3b9d37dd8bd18a957858"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p>Класс входит в проект <a class="el" href="a31461.html">Model</a> <br />
 Класс очереди карточек на отправку. </p>
<ul>
<li>Класс сделан синглетоном из-за того, что при завершении работы приложения поток отправки карточек должен продолжать работать (Android грузит главную .so библиотеку приложения только один раз, поэтому все статические обекты остаются активными даже тогда, когда приложение не отображается на экране устройства).</li>
</ul>
<dl class="section version"><dt>Версия</dt><dd>1.0.0.0 <br />
 1.0.1.0 <br />
</dd></dl>
<dl class="section date"><dt>Дата</dt><dd>26 Январь 2017 <br />
 10 Февраль 2017 <br />
</dd></dl>
<dl class="section author"><dt>Автор</dt><dd>CTAPOBEP (<a href="#" onclick="location.href='mai'+'lto:'+'uni'+'co'+'rnu'+'m.'+'ver'+'um'+'@gm'+'ai'+'l.c'+'om'; return false;">unico<span style="display: none;">.nosp@m.</span>rnum<span style="display: none;">.nosp@m.</span>.veru<span style="display: none;">.nosp@m.</span>m@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>© CTAPOBEP 2017 </dd></dl>
</div><h2 class="groupheader">Методы</h2>
<a id="a59159e2547ed0f476db565fe7f8022c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59159e2547ed0f476db565fe7f8022c7">&#9670;&nbsp;</a></span>AddCard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QueueCards::AddCard </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a31272.html">BoardInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>_Board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const String_t &amp;&#160;</td>
          <td class="paramname"><em>_Text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Функция для добавления карточки в очередь на отправку. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_Board</td><td>Информация о доске, на которую будет отправлена карточка. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_Text</td><td>Текст добавляемой карточки. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8a48af6400cda74dcde5b85235c38c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a48af6400cda74dcde5b85235c38c0b">&#9670;&nbsp;</a></span>SaveCards()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QueueCards::SaveCards </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Функция сохранения списка карточек в файл. </p>
<ul>
<li>Сохранение производится через создание промежуточного файла, чтобы исключить повреждение файла со списком карточек в случае, когда новая версия программы устанавливается в тот момент, когда сохраняется изменившийся список. </li>
</ul>
<dl class="todo"><dt><b><a class="el" href="a31127.html#_todo000003">Необходимо сделать:</a></b></dt><dd>"Как протестировать, что сохранение происходит через промежуточный файл?" ; </dd></dl>

</div>
</div>
<a id="a35b64c74e1eacf8221b90a6199b0361c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35b64c74e1eacf8221b90a6199b0361c">&#9670;&nbsp;</a></span>SendEMail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool model::QueueCards::SendEMail </td>
          <td>(</td>
          <td class="paramtype">const ::std::string &amp;&#160;</td>
          <td class="paramname"><em>_Email</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ::std::string &amp;&#160;</td>
          <td class="paramname"><em>_Text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">::std::string &amp;&#160;</td>
          <td class="paramname"><em>_ErrorDescription</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Функция для отправки почтового сообщения на доску Trello. </p>
<ul>
<li>Реализация при помощи CUrl.</li>
<li>Взято <a href="https://curl.haxx.se/libcurl/c/smtp-ssl.html" title="CUrl send email example">отсюда</a>.</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_Email</td><td>Почтовый ящик доски Trello. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_Text</td><td>Текст создаваемой карточки. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_ErrorDescription</td><td>Сюда будет записано описание ошибки, если функция вернет <b>false</b>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd><b>true</b> <ul>
<li>Письмо было успешно отправлено. </li>
</ul>
</dd>
<dd>
<b>false</b> <ul>
<li>Ошибка во время отправки письма (подробнее см. параметр <b>_ErrorDescription</b>). </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a1752c60cf1fef5bb44299919fdbe7a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1752c60cf1fef5bb44299919fdbe7a8e">&#9670;&nbsp;</a></span>SendingCards()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QueueCards::SendingCards </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Функция рабочего потока отправки карточек на почту Trello. </p>
<dl class="todo"><dt><b><a class="el" href="a31127.html#_todo000002">Необходимо сделать:</a></b></dt><dd>"Тест не проверяет, что сохранение производится ПОСЛЕ удаления карточки из списка" ; </dd></dl>
<div class="dynheader">
Граф вызова функции:</div>
<div class="dyncontent">
<div class="center"><img src="a31292_a1752c60cf1fef5bb44299919fdbe7a8e_icgraph.png" border="0" usemap="#a31292_a1752c60cf1fef5bb44299919fdbe7a8e_icgraph" alt=""/></div>
<map name="a31292_a1752c60cf1fef5bb44299919fdbe7a8e_icgraph" id="a31292_a1752c60cf1fef5bb44299919fdbe7a8e_icgraph">
<area shape="rect" id="node3" href="a31292.html#a337d19aee0e859a0c16233192d03fb1f" title="Функция запуска потока отправки карточек на почту Trello. " alt="" coords="216,5,379,46"/>
</map>
</div>

</div>
</div>
<a id="a337d19aee0e859a0c16233192d03fb1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337d19aee0e859a0c16233192d03fb1f">&#9670;&nbsp;</a></span>Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QueueCards::Start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Функция запуска потока отправки карточек на почту Trello. </p>
<ul>
<li>Загружает существующий список карточек из файла и запускает поток отправки карточек, если он еще не был запущен при предыдущем запуске программы.</li>
<li>Функция понадобилась из-за того, что при установке новой версии программы предыдущая будет остановлена, но объект класса будет создан только при первом обращении к его функциям (поэтому функция должна быть вызвана в конструкторе класса модели). </li>
</ul>
<div class="dynheader">
Граф вызовов:</div>
<div class="dyncontent">
<div class="center"><img src="a31292_a337d19aee0e859a0c16233192d03fb1f_cgraph.png" border="0" usemap="#a31292_a337d19aee0e859a0c16233192d03fb1f_cgraph" alt=""/></div>
<map name="a31292_a337d19aee0e859a0c16233192d03fb1f_cgraph" id="a31292_a337d19aee0e859a0c16233192d03fb1f_cgraph">
<area shape="rect" id="node3" href="a31292.html#a1752c60cf1fef5bb44299919fdbe7a8e" title="Функция рабочего потока отправки карточек на почту Trello. " alt="" coords="216,5,379,46"/>
</map>
</div>

</div>
</div>
<hr/>Объявления и описания членов классов находятся в файлах:<ul>
<li>Solution/Solution/Model/Model/<a class="el" href="a30947_source.html">QueueCards.hpp</a></li>
<li>Solution/Solution/Model/Model/QueueCards.cpp</li>
<li>Solution/Solution/Model/Model/QueueCards.CUrl.cpp</li>
<li>Solution/Solution/Model/Test.Model/Test.QueueCards/<a class="el" href="a31007.html">QueueCards_test.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>model</b></li><li class="navelem"><a class="el" href="a31292.html">QueueCards</a></li>
    <li class="footer">Документация по TrelloCardsMaker. Последние изменения: Пт 10 Фев 2017 22:53:14. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
