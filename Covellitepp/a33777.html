<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Covellite++: Events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Title.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Covellite++
   &#160;<span id="projectnumber">Version: 2.1.10 Revision: 1331 Platform: x64 Build: 21:53 15.02.2019</span>
   </div>
   <div id="projectbrief">Кроссплатформенный (Windows/Android) GUI фреймворк для разработки приложений на С++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a33777.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Группы</a> &#124;
<a href="#nested-classes">Классы</a>  </div>
  <div class="headertitle">
<div class="title">Events<div class="ingroups"><a class="el" href="a33769.html">Covellite++</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Граф связей класса Events:</div>
<div class="dyncontent">
<center><table><tr><td><img src="a33777.png" border="0" alt="" usemap="#a33777"/>
<map name="a33777" id="a33777">
<area shape="rect"  title=" " alt="" coords="149,55,216,80"/>
<area shape="rect"  href="a33778.html" title=" " alt="" coords="271,5,326,31"/>
<area shape="rect"  href="a33780.html" title=" " alt="" coords="264,55,333,80"/>
<area shape="rect"  href="a33779.html" title=" " alt="" coords="279,104,318,129"/>
<area shape="rect"  href="a33769.html" title=" " alt="" coords="5,55,101,80"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Группы</h2></td></tr>
<tr class="memitem:a33778"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a33778.html">Type</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33779"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a33779.html">Id</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33780"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a33780.html">Params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Классы</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a34509.html">covellite::events::Events::Signal</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Класс входит в проект <a class="el" href="a35221.html">Covellite.Events</a> <br />
 Вспомогательный класс для доступа к сигналу конкретного события.  <a href="a34509.html#details">Подробнее...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a34513.html">covellite::events::Events::Signals</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Класс входит в проект <a class="el" href="a35221.html">Covellite.Events</a> <br />
 Вспомогательный класс, хранящий список всех сигналов.  <a href="a34513.html#details">Подробнее...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a34489.html">covellite::events::Events</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Класс входит в проект <a class="el" href="a35221.html">Covellite.Events</a> <br />
 Класс для работы с событиями фреймворка.  <a href="a34489.html#details">Подробнее...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a34501.html">covellite::events::IEvents</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Класс входит в проект <a class="el" href="a35221.html">Covellite.Events</a> <br />
 Интерфейсный класс для классов, которые должны использовать события фреймворка.  <a href="a34501.html#details">Подробнее...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<p>Группа классов проекта <a class="el" href="a35221.html">Covellite.Events</a>.</p>
<h2>Использование событий фреймворка </h2>
<h3>Создание нового типа событий</h3>
<p>Для создания пользовательского типа событий следует создать класс типа событий (в котором определить идентификаторы событий этого типа) и объявить объект нового типа событий (для удобства использования в этом же классе можно определить класс-контейнер параметров, передаваемых этому событию).</p>
<div class="fragment"><div class="line"><span class="comment">// Класс типа события.</span></div><div class="line"><span class="keyword">class </span>UserType_t final</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="comment">// Идентификаторы событий.</span></div><div class="line">  <span class="keyword">enum</span> Id</div><div class="line">  {</div><div class="line">    Error = 0,</div><div class="line">  };</div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="comment">// Класс параметров события Error.</span></div><div class="line">  <span class="keyword">class </span>Error final</div><div class="line">  {</div><div class="line">  <span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">int</span> Code;</div><div class="line">    ::std::string Description;</div><div class="line">  };</div><div class="line">};</div><div class="line">  </div><div class="line"><span class="comment">// Вспомогательный объект для использования события UserType.Error (таким </span></div><div class="line"><span class="comment">// способом достигается уникальность событий, имеющих одинаковые </span></div><div class="line"><span class="comment">// имена/численные значения в разных классах, если использовать </span></div><div class="line"><span class="comment">// UserType_t::Error, тип события будет соответствовать типу перечисления и </span></div><div class="line"><span class="comment">// не будет являться уникальным).</span></div><div class="line"><span class="keyword">namespace </span>{ UserType_t UserType; }</div></div><!-- fragment --><dl class="section note"><dt>Заметки</dt><dd>Разные типы событий могут иметь одинаковые идентификаторы (как имена, так и значения), события с такими идентификаторами будут считаться разными событиями.</dd></dl>
<h3>Создание класса, который должен реагировать на события</h3>
<p>Классу, который должен реагировать на события, необходимо добавить объект класса <a class="el" href="a34489.html" title="Класс входит в проект Covellite.Events   Класс для работы с событиями фреймворка.">covellite::events::Events</a> и проинициализировать его в конструкторе, параметром которого может быть один из интерфейсных классов разделов (<a class="el" href="a34253.html" title="Класс входит в проект Covellite.App   Интерфейсный класс приложения.">covellite::app::IApplication</a>, <a class="el" href="a34765.html" title="Класс входит в проект Covellite.Os   Интерфейсный класс окна операционной системы программы.">covellite::os::IWindow</a>, <a class="el" href="a33925.html" title="Класс входит в проект Covellite.Api   Интерфейсный класс для всех окон, реализующих различные графиче...">covellite::api::IWindow</a>, <a class="el" href="a34833.html" title="Класс входит в проект Covellite.Rocket   Интерфесный класс окна, отображающего элементы GUI.">covellite::rocket::IWindow</a>).</p>
<p>В случае необходимости 'передать дальше' объект событий (например, если требуется встроить клиентсткий код между окнами графического Api и окном Rocket, который должен отрисовывать что-либо перед отрисовкой GUI), класс cледует унаследовать от <a class="el" href="a34501.html" title="Класс входит в проект Covellite.Events   Интерфейсный класс для классов, которые должны использовать ...">covellite::events::IEvents</a> и реализовать его виртуальный оператор, вернув объект событий.</p>
<dl class="section note"><dt>Заметки</dt><dd>Объект событий в классе хранит все созданные в нем соединения и разрывает их при уничтожении объекта класса.</dd></dl>
<div class="fragment"><div class="line"><span class="keyword">class </span>Window final</div><div class="line">{</div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <a class="code" href="a34489.html">covellite::events::Events</a> m_Events;</div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="keyword">explicit</span> Window(<span class="keyword">const</span> <a class="code" href="a33925.html">covellite::api::IWindow</a> &amp; _Window) :</div><div class="line">    m_Events(_Window)</div><div class="line">  {</div><div class="line">    m_Events[UserType.Error].Connect([](<span class="keyword">const</span> UserType_t::Error &amp;)</div><div class="line">    {</div><div class="line">      <span class="comment">// Сюда поместить код обработки события UserType.Error.</span></div><div class="line">    });</div><div class="line">  }</div><div class="line">};</div></div><!-- fragment --><h3>Активация события</h3>
<p>Для активации события необходимо вызвать оператор () из функции любого класса, содержащего объект класса событий. В качестве параметра (который предусмотрен только один) может быть передан объект любого класса (тип должен совпадать с типом, указанным у обработчика, в противном случае будет сгенерировано исключение).</p>
<div class="fragment"><div class="line"><a class="code" href="a34117.html">covellite::api::Window</a> ApiWindow{ ... };</div><div class="line">Window Window{ ApiWindow };</div><div class="line">  </div><div class="line"><span class="keyword">const</span> UserType_t::Error Description = { 5, <span class="stringliteral">&quot;Error description&quot;</span> }.</div><div class="line">  </div><div class="line">Window[UserType.Error](Description);</div></div><!-- fragment --><h3>Рекомендации</h3>
<ul>
<li>Большая часть событий самого фреймворка предназначены для обеспечения логики работы фреймворка и не должны активироваться из клиентского кода (клиентский код может только подписываться и реагировать на них, за редким исключением, например, события завершения работы программы Application.Exit), подробнее см. описание конкретных <a class="el" href="a33779.html">событий</a>.</li>
<li>Допускается из обработчика события активировать другие события, однако поскольку при этом возможно зацикливание программы (например, когда обработчик события активирует то же самое событие), рекомендуется из обработчика события активировать события более высокого уровня.</li>
<li>Структура классов фреймворка создавалась в предположении, что каждый отдельный экран (слой, класс-наследник от <a class="el" href="a34837.html" title="Класс входит в проект Covellite.Rocket   Класс одного слоя (пользовательского экрана) программы.">covellite::rocket::Layer</a>) программы будет являться отдельным <b>View</b> в рамках паттерна MVC и будет получать необходимые ему данные через <b>Model</b>, тем не менее (для прогресс-бара, например) возможна передача информации посредством специально для этого созданных сообщений, у которых эти данные будут передаваться в качестве параметров. </li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Документация по Covellite++. Последние изменения: Пт 15 Фев 2019 21:54:25. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
