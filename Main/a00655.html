<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UnicornumVerum: Работа над кодом</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_1.8.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Title.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UnicornumVerum
   </div>
   <div id="projectbrief">Сайт-визитка для релизов, документации проектов и тому подобного.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a00659.html">Документация</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Работа над кодом </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="CircleCodeAnchor"></a> </p><h1>Цикл разработки кода </h1>
<ul>
<li><a class="el" href="a00655.html#RequirementsCodeAnchor">Исходные требования</a> очередного этапа разработки (<a class="el" href="a00655.html#SprintCodeAnchor">спринта</a>).</li>
<li>Проектирование/спецификация (диаграмма UML).</li>
<li>Изменение документации с учетом будущих исправлений кода.</li>
<li>Рефакторинг существующей программы (выделение частей, которые изменяются и инкапсуляция их от остального кода).</li>
<li>Интерфейс.</li>
<li>Тесты.</li>
<li>Реализация/тестирование.</li>
<li>Проверка кода на сохранение валидного состояния при исключениях.</li>
<li>Оптимизация времени сборки проекта.</li>
</ul>
<p><a class="anchor" id="RequirementsCodeAnchor"></a> </p><h1>Исходные требования проекта </h1>
<h2>Концепция </h2>
<ul>
<li>Требование — это не функция системы, а описание задачи или проблемы, которую хочет решить конкретный человек.</li>
</ul>
<p>Попытка вместе с заказчиком проектировать сценарии работы системы с большой вероятностью приведет к некачественному результату. Лучший способ понять требование, сделать все наоборот — Проявить эмпатию, погрузиться в терминологию, задачи и процессы заказчика. Именно после этого появится возможность применить к этому свой опыт и знания, и предложить Заказчику консистентное и эффективное решение.</p>
<ul>
<li>Так как требования это желания нескольких людей, то анализ требований начинается с выявления лиц, чьи желания система должна учитывать.</li>
</ul>
<p>Выявление всех заинтересованных лиц и независимый опрос каждого, это работа, которую чаще всего игнорируют, причем сопротивление оказывают как раз заказчики и спонсоры проекта, из-за непонимания необходимости данной работы.</p>
<ul>
<li>Требования, это ожидание, то есть то, чего еще нет. Непостоянство будущего обусловлено самой природой, и желания человека постоянно подстраиваются под изменения. Причем речь идет не о неделях и месяцах, требования будут разными в зависимости от того, в какое время дня задать вопросы.</li>
</ul>
<p>Требования — это ожидания. Ожидания не фиксируют, ожиданиями управляют. <br />
 Недостаточно собрать и подписать требования, надо их “продать” всем заинтересованным лицам, таким образом, чтобы они помнили о том — что они хотят, иначе в процессе всего проекта придется бороться с хаотичными изменениями функциональности и внезапными поворотами.</p>
<div class="image">
<img src="Requirements.png" alt="Requirements.png"/>
</div>
<h2>Последовательность действий </h2>
<ul>
<li>Идея.</li>
<li>Сформулировать единую цель проекта, которой должно быть подчинено все остальное (конкретность, измеримость, достижимость, ориентация на результат, ограниченность по времени).</li>
<li>Анализ: описание user story и прототипы (на основе потребностей заказчика).</li>
<li>Выбор сущностей, реализация которых будет осуществляться в первоначальной версии продукта.</li>
</ul>
<h2>Страница исходных требований решения </h2>
<ul>
<li>Требования к внешним интерфейсам (пользователя/аппаратного/программного обеспечения).</li>
<li>Функциональные требования.</li>
<li>Требования производительности.</li>
<li>Проектные ограничения.</li>
<li>Нефункциональные требования (надежность/доступность/безопасность).</li>
</ul>
<p><a class="anchor" id="SprintCodeAnchor"></a> </p><h1>Спринт </h1>
<h2>Работа с репозиторием проекта </h2>
<div class="image">
<img src="Vcs.png" alt="Vcs.png"/>
</div>
<h2>Последовательность действий во время спринта </h2>
<ul>
<li>Создание ветки следующего спринта (branches/&lt;year&gt;/&lt;date&gt;/_Root).</li>
<li>Внесение изменений в используемую проектом ветку <a class="el" href="a00655.html#PrebuiltCodeAnchor">Prebuilt</a> и обновление ссылок на Externals.</li>
<li><a class="el" href="a00655.html#CircleCodeAnchor">Работа над кодом</a> (отдельная ветка для каждой фичи/исправления бага).</li>
<li><a class="el" href="a00655.html#FinishStrintCodeAnchor">Завершение спринта</a>.</li>
<li><a class="el" href="a00655.html#BuildCodeAnchor">Сборка скриптом</a>.</li>
<li><a class="el" href="a00655.html#DocumentationCodeAnchor">Сборка документации</a>.</li>
<li><a class="el" href="a00655.html#ReleaseCodeAnchor">Выпуск версии</a>.</li>
<li>Переключение на ветку trunk(release) и слияние с tag(master).</li>
</ul>
<p><a class="anchor" id="FinishStrintCodeAnchor"></a> </p><h3>Завершение спринта</h3>
<ul>
<li>Переключение на ветку спринта и слияние с ветками отдельных карточек.</li>
<li>Выгрузить тестовые проекты классов.</li>
<li>Добавить noexcept всем деструкторам.</li>
<li>Обработка CppCheck всего решения и исправление предупреждений.</li>
<li>Запуск всех тестов решения из Visual Studio.</li>
<li>Фиксация решения (с увеличением младшего номера версии) в ветке спринта.</li>
<li>Выполнить для папки решения очистку svn.</li>
</ul>
<p><a class="anchor" id="BuildCodeAnchor"></a> </p><h3>Сборка скриптом</h3>
<ul>
<li>Переключение на ветку trunk(release) и слияние с веткой спринта.</li>
<li>Сборка всех конфигураций/платформ скриптом BuildAll.trunk.cmd.</li>
<li>Фиксация решения в ветке trunk(release).</li>
</ul>
<p><a class="anchor" id="DocumentationCodeAnchor"></a> </p><h3>Сборка документации</h3>
<ul>
<li>Проверить корректность версий используемых внешних инструментов.</li>
<li>Обновить реализованные требования.</li>
<li>Удаление старой и генерация новой документации.</li>
<li>Просмотр вывода и исправление предупреждений при генерации.</li>
<li>Просмотр результата построения решения скриптом.</li>
<li>Просмотр страницы отчета о прогоне тестов.</li>
<li>Фиксация документации.</li>
<li>Фиксация решения в ветке trunk(release).</li>
<li>Выполнить для папки решения очистку svn.</li>
</ul>
<p><a class="anchor" id="ReleaseCodeAnchor"></a> </p><h3>Выпуск версии</h3>
<h4>Библиотеки</h4>
<ul>
<li>Переключение на ветку tag(master) и слияние с веткой trunk(release).</li>
<li>Запуск скрипта BuildAll.master.cmd.</li>
<li>Фиксация Externals.</li>
<li>Фиксация решения в ветке tag(master) с указанием в комментарии номера версии.</li>
</ul>
<h4>Приложения</h4>
<ul>
<li>Переключение на ветку tag(master) и слияние с веткой trunk(release).</li>
<li>Фиксация решения в ветке tag(master) с указанием в комментарии номера версии.</li>
<li>Release сборка из Visual Studio (это чтобы бинарники содержали правильную ревизию файлов, для Android-приложений предварительно запускать проект Prebuild).</li>
<li>Запуск/выкладывание на сервер инсталлятора.</li>
</ul>
<p><a class="anchor" id="PrebuiltCodeAnchor"></a> </p><h1>Репозиторий Prebuilt </h1>
<h2>Назначение </h2>
<p>Подключение к проекту внешних библиотек/утилит при помощи единственной ссылки svn:externals.</p>
<h2>Структура </h2>
<div class="image">
<img src="Prebuilt.png" alt="Prebuilt.png"/>
</div>
<h2>Организация репозитория </h2>
<div class="image">
<img src="Prebuilt2.png" alt="Prebuilt2.png"/>
</div>
<ul>
<li><b>Documentation</b> (не имеет родителя, содержит типовые страницы документации решения).</li>
<li><b>Properties</b> (не имеет родителя (чтобы его можно было backup'ить), содержит обобщенные страницы свойств).</li>
<li><b>Utilities</b> (дочерняя ветка Properties, добавляет вспомогательные утилиты, сюда ведет ссылка папки Externals решения тестирования запуска утилит).</li>
<li><b>Externals</b> (дочерняя ветка Utilities, добавляет код сторонних библиотек, сюда ведет ссылка папки Externals решения Externals для сборки сторонних библиотек).</li>
<li><b>Alicorn</b> (дочерняя ветка Externals, добавляет код решения Alicorn, сюда ведет ссылка папки Externals решения Alicorn и всех решений, использующих Alicorn).</li>
<li><b>Covellite</b> (дочерняя ветка Alicorn, добавляет код фреймворка Covellite++, сюда ведет ссылка папки Externals решения Covellite++ и всех решений, использующих Covellite++).</li>
</ul>
<h2>Методика разделения существующего репозитория на отдельные ветки </h2>
<ul>
<li>Создать ответвление Properties/_Root от trunk, удалить лишние файлы, зафиксировать изменения.</li>
<li>Создать ответвление Properties/Utilities/_Root от trunk.</li>
<li>Слить ветку Utilities/_Root с веткой Properties/_Root, убрать изменения для удаленных файлов (оставив изменения свойств папки), которые должны остаться в Utilities, зафиксировать изменения.</li>
<li>Повторить для последующих ветвей (создавая из в папке _Root родительской ветви), сливая их с родительскими.</li>
</ul>
<h1>Номера версий </h1>
<h2>Младший номер версии </h2>
<ul>
<li>Увеличивается при завершении <a class="el" href="a00655.html#SprintCodeAnchor">спринта</a>.</li>
<li>Код должен гарантированно компилироваться.</li>
<li>Полная совместимость с предыдущей младшей/средней/старшей версией.</li>
<li>Код, для которого написан код на замену, помечается как deprecated.</li>
<li>Допускается провал небольшого количества тестов и наличие предупреждений при сборке/проверке статическими анализаторами.</li>
</ul>
<h2>Средний номер версии </h2>
<ul>
<li>Увеличивается при выпуске <a class="el" href="a00655.html#StableCodeAnchor">стабильной версии</a>.</li>
<li>Код должен гарантированно компилироваться.</li>
<li>Совместимость с предыдущей средней/старшей версией, за исключением устаревшего (deprecated) кода.</li>
<li>Должны гарантированно проходиться абсолютно все тесты.</li>
<li>Должны быть исправлены все предупреждения компилятора/анализаторов кода.</li>
</ul>
<h2>Старший номер версии </h2>
<ul>
<li>Увеличивается перед началом нового цикла разработки, во время которого будет производиться качественное изменение кода, тотально ломающее обратную совместимость.</li>
</ul>
<p><a class="anchor" id="StableCodeAnchor"></a> </p><h1>Стабильная версия </h1>
<ul>
<li>Выпускается перед началом нового цикла активной доработки кода (после продолжительного использования текущей версии).</li>
<li>Увеличивается средний номер версии.</li>
</ul>
<h2>Подготовка к выпуску </h2>
<ul>
<li>Специальный спринт.</li>
<li>Удаление устаревшего (deprecated) кода.</li>
<li>Исправление известных ошибок.</li>
<li>Исправление мест, помеченных макросом <b>TODO</b>.</li>
<li>Исправление всех предупреждений компилятора/анализатора кода.</li>
<li>Исправление всех предупреждений CppCheck.</li>
<li>Добавление тестов для выявленных участков кода, не покрытых тестами.</li>
<li>Исправление мест, проблемных с точки зрения вычисления метрик кода.</li>
<li>Весь код должен гарантированно собираться, должны выполняться все тесты.</li>
</ul>
<h1>Документация пользователя </h1>
<ul>
<li><a href="https://goo.gl/k5VTun">Википедичный стиль изложения</a>. В частности, изложение исключительно от третьего лица.</li>
<li>Описание функционала программы с точки зрения пользователя.</li>
<li>Концентрация внимания пользователя на основных возможностях программы.</li>
<li>Адаптация для быстрого поиска.</li>
<li>Сценарии работы с программой.</li>
<li>Описание настроек программы, для чего предназначен каждый параметр и значения по умолчанию.</li>
<li>Описание последствий отсутствия действий пользователя.</li>
<li>Необходимо учитывать тот момент, что документацию читают только если что-то работает не так.</li>
<li>Указания на необратимость действий, а также способы восстановления изменений (настроек, например).</li>
</ul>
<h2>Сценарии работы с программой </h2>
<ul>
<li>Описание цели действий, выполняемых в сценарии.</li>
<li>Подробное описание результата выполнения сценария работы с программой.</li>
<li>Атомарность сценариев (каждый сценарий должен быть 'вещью в себе' и не требовать отсылок к другим разделам).</li>
<li>Каждый отдельный сценарий должен учитывать квалификацию пользователя, для которого он предназначен. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Документация по UnicornumVerum. Последние изменения: Пт 10 Май 2019 12:45:34. Создано системой &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
